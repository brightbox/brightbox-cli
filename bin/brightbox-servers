#!/usr/bin/env ruby

# When calling this command with a different prefix we use that value as if -c had been called with it
cmd_prefix = File.basename($0)[/\A([^-]+)-.+/, 1]
ARGV.unshift *["-c", cmd_prefix] if cmd_prefix != "brightbox"

begin
  require "brightbox_cli"
rescue LoadError
  brightbox_cli_path = File.expand_path('../../lib', __FILE__)
  $:.unshift(brightbox_cli_path)
  require "brightbox_cli"
end

Brightbox::BBConfig.config do
  include GLI
  run ARGV
end
